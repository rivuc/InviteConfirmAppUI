<div class="list-container">
  <h2 class="title">ğŸ“‹ Lista de Invitados</h2>

  @if (loading()) {
    <div class="loader">ğŸˆ Cargando invitados...</div>
  }
  @if (!loading() && error()) {
    <div class="error">âŒ {{ error() }}</div>
  }
  @if (!loading() && !error()) {
    <ul class="invite-list">
      @for (invite of invites(); track invite.id) {
        <li class="invite-item compact">
          <span class="family">ğŸ‰ {{ invite.family }}</span>

          <span class="status">
            @if (invite.isConfirmed) {
              <span class="confirmed"> âœ… {{ invite.updatedAt | date: 'dd/MM/yyyy HH:mm' }} </span>
            } @else {
              <span class="pending">â³ Pendiente</span>
            }
          </span>

          <span class="counts">
            ğŸ‘¨Adultos: {{ invite.isConfirmed ? invite.adults : 0 }} Â· ğŸ§’NiÃ±os:
            {{ invite.isConfirmed ? invite.children : 0 }} Â· ğŸª‘Mesa:
            {{ invite.mesa }}
          </span>
        </li>
      }
    </ul>

    <!-- Totales -->
    <div class="totals">
      <strong>ğŸŠ Totales confirmados</strong>
      <div>ğŸ‘¨ Adultos: {{ totalAdults() }}</div>
      <div>ğŸ§’ NiÃ±os: {{ totalChildren() }}</div>
    </div>
  }
</div>
